/*	
 * jQuery Touch Optimized Sliders "R"Us
 * Vimeo media
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 * @requires tosrus 2.0.0 or later
 */
!function(i){function t(t){function h(){var i=t.width(),o=t.height();p&&i>p&&(i=p),g&&o>g&&(o=g),u>i/o?o=i/u:i=o*u,m.width(i).height(o)}function l(i){m.length&&m[0].contentWindow.postMessage('{ "method": "'+i+'" }',"*")}c||(o=i[s]._c,n=i[s]._d,e=i[s]._e,a=i[s]._f,r=i[s]._g,n.add("ratio maxWidth maxHeight"),c=!0);var m=t.children(),f=t.data(i[s]._d.anchor)||i(),u=f.data(n.ratio)||this.opts[d].ratio,p=f.data(n.maxWidth)||this.opts[d].maxWidth,g=f.data(n.maxHeight)||this.opts[d].maxHeight;t.removeClass(o.loading).on(e.loading,function(){h()}),this.nodes.$wrpr.on(e.sliding,function(){l("pause")}).on(e.closing,function(){l("unload")}),r.$wndw.on(e.resize,function(i){i.stopPropagation(),h()})}var o,n,e,a,r,s="tosrus",d="vimeo",c=!1;i[s].media[d]={filterAnchors:function(i){return i.toLowerCase().indexOf("vimeo.com/")>-1},initAnchors:function(o,n){n=n.split("vimeo.com/")[1].split("?")[0]+"?api=1",i('<iframe src="http://player.vimeo.com/video/'+n+'" frameborder="0" allowfullscreen />').appendTo(o),t.call(this,o)},filterSlides:function(i){return i.is("iframe")&&i.attr("src")?i.attr("src").toLowerCase().indexOf("vimeo.com/video/")>-1:!1},initSlides:function(i){t.call(this,i)}},i[s].defaults[d]={ratio:16/9,maxWidth:!1,maxHeight:!1}}(jQuery);