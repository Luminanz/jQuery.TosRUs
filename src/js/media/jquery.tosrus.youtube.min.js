/*	
 * jQuery Touch Optimized Sliders "R"Us
 * Youtube media
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 * @requires tosrus 2.0.0 or later
 */
!function(t){function i(i){function u(t){l.length&&l[0].contentWindow.postMessage('{ "event": "command", "func": "'+t+'Video" }',"*")}d||(o=t[s]._c,e=t[s]._d,a=t[s]._e,n=t[s]._f,r=t[s]._g,e.add("ratio maxWidth maxHeight"),d=!0);var l=i.children(),m=i.data(t[s]._d.anchor)||t(),h=m.data(e.ratio)||this.opts[c].ratio,f=m.data(e.maxWidth)||this.opts[c].maxWidth,p=m.data(e.maxHeight)||this.opts[c].maxHeight;i.removeClass(o.loading).on(a.loading,function(){n.resizeRatio(l,i,f,p,h)}),this.nodes.$wrpr.on(a.sliding,function(){u("pause")}).on(a.closing,function(){u("stop")}),r.$wndw.on(a.resize,function(){n.resizeRatio(l,i,f,p,h)})}var o,e,a,n,r,s="tosrus",c="youtube",d=!1;t[s].media[c]={filterAnchors:function(t){return t.toLowerCase().indexOf("youtube.com/watch?v=")>-1},initAnchors:function(o,e){var a=e;e=e.split("?v=")[1].split("&")[0],this.opts[c].imageLink?(e="http://img.youtube.com/vi/"+e+"/0.jpg",t('<a href="'+a+'" class="'+t[s]._c("play")+'" target="_blank" />').appendTo(o),t('<img border="0" />').on(t[s]._e.load,function(i){i.stopPropagation(),o.removeClass(t[s]._c.loading)}).appendTo(o).attr("src",e)):(t('<iframe src="http://www.youtube.com/embed/'+e+'" frameborder="0" allowfullscreen />').appendTo(o),i.call(this,o))},filterSlides:function(t){return t.is("iframe")&&t.attr("src")?t.attr("src").toLowerCase().indexOf("youtube.com/embed/")>-1:!1},initSlides:function(t){i.call(this,t)}},t[s].defaults[c]={ratio:16/9,maxWidth:!1,maxHeight:!1,imageLink:t[s].support.touch}}(jQuery);