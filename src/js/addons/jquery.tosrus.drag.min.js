/*	
 *	jQuery Touch Optimized Sliders "R"Us
 *	Drag addon
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	@requires tosrus 2.0.0 or later
 */
!function(e){if(e.fn.hammer){var t,s,r,n,i,a="tosrus",d="drag",o=!1;e[a].prototype["_addon_"+d]=function(){o||(t=e[a]._c,s=e[a]._d,r=e[a]._e,n=e[a]._f,i=e[a]._g,r.add("dragstart dragend dragleft dragright swipeleft swiperight"),o=!0);var l=this;if(this.opts[d]&&"slide"==this.opts.effect){var f=0,g=!1,u=!1;this.nodes.$wrpr.hammer().on(r.dragstart,function(e){e.gesture.preventDefault(),l.nodes.$sldr.addClass(t.noanimation)}).on(r.dragleft+" "+r.dragright,function(e){e.stopPropagation(),e.gesture&&e.gesture.preventDefault(),f=e.gesture.deltaX,g=e.gesture.direction,u=!1,("left"==g&&l.slides.index+l.slides.visible>=l.slides.total||"right"==g&&0==l.slides.index)&&(f/=2.5),l.nodes.$sldr.css("left",Math.round(f))}).on(r.swipeleft+" "+r.swiperight,function(e){e.gesture.preventDefault(),u=!0}).on(r.dragend,function(e){if(e.gesture.preventDefault(),"left"==g||"right"==g){if(u)var s=l.slides.visible;else var i=l.nodes.$slides.first().width(),s=Math.floor((Math.abs(f)+i/2)/i);s>0&&l.nodes.$wrpr.trigger(r["left"==g?"next":"prev"],[s])}l.nodes.$sldr.removeClass(t.noanimation).addClass(t.fastanimation),n.transitionend(l.nodes.$sldr,function(){l.nodes.$sldr.removeClass(t.fastanimation)},l.conf.transitionDuration/2),l.nodes.$sldr.css("left",0),g=!1})}},e[a].defaults[d]=e[a].support.touch,e[a].addons.push(d)}}(jQuery);